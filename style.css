:root{
  --bg: #faf8f6;
  --ink: #2b2b2b;
  --muted: #7a7a7a;

  --board-bg: #cdc1b4;
  --cell-bg: #eee4da66; /* subtle tinted cells */
  --tile-2: #eee4da;
  --tile-4: #ede0c8;
  --tile-8: #f2b179;
  --tile-16: #f59563;
  --tile-32: #f67c5f;
  --tile-64: #f65e3b;
  --tile-128: #edcf72;
  --tile-256: #edcc61;
  --tile-512: #edc850;
  --tile-1024: #edc53f;
  --tile-2048: #edc22e;
  --tile-super: #60c37b;

  --tile-dark: #776e65;
  --tile-light: #f9f6f2;

  --radius-xl: 22px;
  --radius-lg: 16px;
  --radius-md: 12px;

  --shadow-soft: 0 10px 24px rgba(0,0,0,.08);
  --shadow-inner: inset 0 2px 6px rgba(0,0,0,.08);
  --shadow-tile: 0 6px 14px rgba(0,0,0,.12);

  --board-size: min(92vw, 520px);
  --grid-gap: 14px;
  --cell-size: calc( (var(--board-size) - (var(--grid-gap) * 5)) / 4 );
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  background: radial-gradient(1200px 800px at 10% -10%, #ffffff, var(--bg));
  color: var(--ink);
  display: grid;
  place-items: center;
}

.wrap{
  width: min(96vw, 720px);
  padding: 24px;
  border-radius: var(--radius-xl);
  background: #fff;
  box-shadow: var(--shadow-soft);
}

.topbar{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
}

.title{
  font-size: clamp(28px, 3vw, 40px);
  line-height: 1;
  margin: 0;
  letter-spacing: 0.5px;
}

.badges{
  display: flex;
  align-items: center;
  gap: 10px;
}

.badge{
  display: grid;
  place-items: center;
  min-width: 88px;
  padding: 8px 12px;
  background: #f3f2f1;
  border-radius: var(--radius-md);
  box-shadow: var(--shadow-inner);
  text-align: center;
}
.badge-label{
  font-size: 12px;
  color: var(--muted);
}
.badge-value{
  font-weight: 700;
  font-size: 20px;
}

.btn{
  appearance: none;
  border: none;
  border-radius: var(--radius-lg);
  padding: 10px 14px;
  font-weight: 600;
  background: #3b82f6;
  color: white;
  cursor: pointer;
  box-shadow: 0 6px 14px rgba(59,130,246,.35);
  transition: transform .08s ease, filter .15s ease;
}
.btn:hover{ filter: brightness(1.03); }
.btn:active{ transform: translateY(1px) scale(0.995); }
.btn-ghost{
  background: transparent;
  color: var(--muted);
  box-shadow: none;
  border: 1px solid #e9e7e6;
}

.hint{
  margin: 12px 0 18px;
  color: var(--muted);
  font-size: 14px;
}

/* BOARD */
.board{
  position: relative;
  width: var(--board-size);
  height: var(--board-size);
  margin-inline: auto;
  background: var(--board-bg);
  padding: var(--grid-gap);
  border-radius: var(--radius-xl);
  box-shadow: var(--shadow-soft);
}

.grid{
  position: absolute;
  inset: var(--grid-gap);
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--grid-gap);
  pointer-events: none;
}

.grid-cell{
  width: var(--cell-size);
  height: var(--cell-size);
  background: var(--cell-bg);
  border-radius: var(--radius-lg);
}

/* TILE */
.tile{
  position: absolute;
  width: var(--cell-size);
  height: var(--cell-size);
  left: calc(var(--grid-gap) + var(--x) * (var(--cell-size) + var(--grid-gap)));
  top:  calc(var(--grid-gap) + var(--y) * (var(--cell-size) + var(--grid-gap)));
  border-radius: calc(var(--radius-lg) + 2px);
  display: grid;
  place-items: center;
  font-weight: 700;
  font-size: clamp(22px, 4.6vw, 34px);
  color: var(--tile-dark);
  box-shadow: var(--shadow-tile);
  user-select: none;
  transition: left .12s ease, top .12s ease, transform .12s ease, background-color .12s ease;
}

/* Tile colors by value */
.tile-2    { background: var(--tile-2); }
.tile-4    { background: var(--tile-4); }
.tile-8    { background: var(--tile-8);    color: var(--tile-light); }
.tile-16   { background: var(--tile-16);   color: var(--tile-light); }
.tile-32   { background: var(--tile-32);   color: var(--tile-light); }
.tile-64   { background: var(--tile-64);   color: var(--tile-light); }
.tile-128  { background: var(--tile-128);  color: var(--tile-light); }
.tile-256  { background: var(--tile-256);  color: var(--tile-light); }
.tile-512  { background: var(--tile-512);  color: var(--tile-light); }
.tile-1024 { background: var(--tile-1024); color: var(--tile-light); }
.tile-2048 { background: var(--tile-2048); color: var(--tile-light); }
.tile-super{ background: var(--tile-super); color: #063; }

/* Optional micro-animations your JS can toggle */
.tile.spawn { animation: pop .12s ease-out; }
.tile.merge { animation: pulse .16s ease-in-out; }

@keyframes pop{
  from{ transform: scale(.8); opacity: 0.6; }
  to  { transform: scale(1);  opacity: 1; }
}
@keyframes pulse{
  0%{ transform: scale(1); }
  50%{ transform: scale(1.08); }
  100%{ transform: scale(1); }
}

.footer{
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 18px;
  color: var(--muted);
  font-size: 14px;
}

/* Small screens */
@media (max-width: 420px){
  .badge { min-width: 76px; }
  .badge-value { font-size: 18px; }
  .btn { padding: 9px 12px; }
}
